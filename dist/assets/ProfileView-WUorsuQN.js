import{g as b,a as I}from"./professors-BNZYAvCQ.js";import{V as M}from"./VacancyItemComponent-Ck05ZLOC.js";import{a as w,g as S}from"./students-Dmmjq8w4.js";import{_ as x,i as C,h as D,z as u,o as n,c as r,a as e,t as v,k as i,q as _,x as p,F as h,f as y,d as q,p as P,g as B}from"./index-DDnPH6aG.js";import{d as F}from"./vacancies-L-RnlYzh.js";import"./httpClient-CwG61txm.js";const R="/front-end-project-winx/assets/profile0-BFfCjq9d.jpg",N={data(){return{name:"",email:"",vacancies:{},token:null,tokenId:null,role:null}},props:{professorMode:{type:Boolean,default:!1}},components:{VacancyItem:M},methods:{toVancancies(){this.$router.push("/vacancy-list")},cancelVacancy(o){try{const t=F(o,this.token);this.vacancies=this.vacancies.filter(s=>s.vacancyID!==o)}catch(t){console.error(t)}},addVancacy(){this.$router.push({name:"create-vacancy"})},logout(){localStorage.removeItem("token"),this.$router.push("/")},checkAuthorized(){this.token=localStorage.getItem("token"),this.token?(this.role=C(this.token),D(this.token)<new Date?(localStorage.removeItem("token"),router.push("/login")):(this.role==="Professor"&&!this.professorMode||this.role==="Student"&&this.professorMode||this.role==="Student"&&this.role==="Professor")&&router.push("/login")):router.push("/login")}},async mounted(){let o,t;if(this.checkAuthorized(),this.token){try{this.professorMode?o=await b(this.$route.params.id):o=await w(this.$route.params.id,this.token),this.name=o.name,this.email=o.email}catch(s){console.error(s),this.$router.push("/")}try{this.professorMode?t=await I(this.$route.params.id):t=await S(this.$route.params.id,this.token),this.vacancies=t}catch(s){console.error(s),this.$router.push("/")}}else this.$router.push("/login")}},f=o=>(P("data-v-71e90295"),o=o(),B(),o),j={class:"profile-wrapper"},z={class:"profile-header"},A=f(()=>e("img",{src:R,alt:"Profile Picture",class:"profile-picture"},null,-1)),E={class:"profile-info"},L={class:"heading-secondary"},T={class:"container"},U={class:"profile-options"},O={class:"profile-container"},G={class:"profile-content"},H=f(()=>e("p",null,"Você não possui nenhuma vaga!",-1)),J={key:0,class:"options-container"},K={class:"subscribed-container"},Q=f(()=>e("span",null,"adicionar",-1)),W={class:"vacancy-list"},X={key:0,class:"cancel-container"},Y={class:"vacancy-item"};function Z(o,t,s,$,l,c){const d=u("font-awesome-icon"),m=u("RouterLink"),k=u("VacancyItem");return n(),r("div",j,[e("div",z,[A,e("div",E,[e("p",L,"Olá! "+v(l.name),1),e("div",T,[e("p",null,v(l.email),1),e("div",U,[i(m,{to:{name:s.professorMode?"professor-profile-edit":"student-profile-edit",params:{id:o.$route.params.id}},class:"edit-link"},{default:_(()=>[i(d,{icon:"pen-to-square",style:{color:"var(--color-variant-background)"}}),p(" Editar ")]),_:1},8,["to"]),e("div",{class:"logout",onClick:t[0]||(t[0]=(...a)=>c.logout&&c.logout(...a))},[i(d,{icon:"right-from-bracket",style:{color:"var(--color-variant-background)"}}),p(" Sair ")])])])])]),e("div",O,[e("div",G,[l.vacancies.length==0?(n(),r(h,{key:0},[H,s.professorMode?(n(),r("button",{key:0,class:"vacancy-button heading-quaternary",onClick:t[1]||(t[1]=(...a)=>c.addVancacy&&c.addVancacy(...a))},"Adiconar vaga")):(n(),r("button",{key:1,class:"vacancy-button heading-quaternary",onClick:t[2]||(t[2]=(...a)=>c.toVancancies&&c.toVancancies(...a))},"Ver vagas"))],64)):(n(),r(h,{key:1},[s.professorMode?(n(),r("div",J,[e("div",K,[i(m,{to:{name:"students-subscribed",params:{id:o.$route.params.id}},class:"vacancy-button heading-quaternary"},{default:_(()=>[p(" Ver inscrições de alunos ")]),_:1},8,["to"])]),e("div",{class:"add-button heading-quaternary",onClick:t[3]||(t[3]=a=>c.addVancacy())},[Q,i(d,{icon:"fa-solid fa-square-plus",class:"fa-xl",style:{color:"var(--color-green)"}})])])):y("",!0),e("div",W,[(n(!0),r(h,null,q(l.vacancies,a=>(n(),r("div",{class:"vacancy-container",key:a.vacancyID},[s.professorMode?(n(),r("div",X,[i(d,{class:"fa-3x cancel-button",icon:["fas","rectangle-xmark"],style:{color:"var(--color-cancel)"},onClick:g=>c.cancelVacancy(a.vacancyID)},null,8,["onClick"])])):y("",!0),e("div",Y,[i(k,{vacancy:a,ownedVacancy:!0,templateMode:s.professorMode?"professorMode":"studentMode",onUnsubscribed:g=>l.vacancies=l.vacancies.filter(V=>V.vacancyID!==a.vacancyID)},null,8,["vacancy","templateMode","onUnsubscribed"])])]))),128))])],64))])])])}const re=x(N,[["render",Z],["__scopeId","data-v-71e90295"]]);export{re as default};
