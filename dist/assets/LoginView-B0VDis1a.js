import{_ as g,r as u,u as V,l as k,o as d,c as p,a as t,m as w,k as a,n as m,q as I,t as b,f as S,s as v,x as y,p as x,g as B,j as C,i as T}from"./index-DDnPH6aG.js";import{I as _,B as U}from"./ButtonComponent-ClYkf8Gc.js";import{a as N}from"./users-Dxwfu_ww.js";import"./httpClient-CwG61txm.js";const R=n=>(x("data-v-16e4012b"),n=n(),B(),n),F={class:"login-container"},L={class:"login-content"},q=R(()=>t("h1",null,"Digite suas credenciais",-1)),A={class:"input-group"},D={class:"input-group"},E={key:0},P={__name:"LoginView",setup(n){const r=u(""),l=u(""),o=u(""),c=V();k();const f=async()=>{if(r.value&&l.value){o.value="Autenticando...";try{const e=(await N({login:r.value,password:l.value})).token;o.value="Usuário autenticado! Redirecionando...",localStorage.setItem("token",e);const s=C(e),h=T(e);setTimeout(()=>{h==="Professor"?c.push({name:"professor-profile",params:{id:s}}):c.push({name:"student-profile",params:{id:s}})},1e3)}catch(i){o.value="Usuário não autenticado! Verifique os dados e tente novamente.",console.error("erro de senha errada",i.message)}}else o.value="Por favor, preencha todos os campos."};return(i,e)=>(d(),p("div",F,[t("div",L,[q,t("form",{onSubmit:w(f,["prevent"])},[t("div",A,[a(m(v),{icon:"envelope",class:"icon"}),a(_,{modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=s=>r.value=s),type:"email",placeholder:"Email"},null,8,["modelValue"])]),t("div",D,[a(m(v),{icon:"lock",class:"icon"}),a(_,{modelValue:l.value,"onUpdate:modelValue":e[1]||(e[1]=s=>l.value=s),type:"password",placeholder:"Senha"},null,8,["modelValue"])]),a(U,{btnClass:"login-button",btnType:"submit"},{default:I(()=>[y("Login")]),_:1})],32),o.value?(d(),p("h3",E,b(o.value),1)):S("",!0)])]))}},H=g(P,[["__scopeId","data-v-16e4012b"]]);export{H as default};
