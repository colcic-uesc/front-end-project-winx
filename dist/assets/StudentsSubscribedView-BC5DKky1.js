import{_ as C,z as $,o as t,c as a,a as e,k as h,t as n,r as o,j as x,i as D,h as I,u as V,l as F,b as B,w as E,y as N,F as f,d as g,f as R,e as T}from"./index-DDnPH6aG.js";import{e as j}from"./vacancies-L-RnlYzh.js";import{a as A}from"./professors-BNZYAvCQ.js";import"./httpClient-CwG61txm.js";const M={class:"student-card"},z={class:"student-info"},P={class:"info-item heading-secondary"},q={class:"name"},L={class:"info-item heading-tertiary"},O={class:"email"},U={class:"student-details body-text"},G={__name:"StudentCardComponent",props:{student:{type:Object,required:!0}},setup(r){return(c,v)=>{const i=$("font-awesome-icon");return t(),a("div",M,[e("div",z,[e("div",P,[h(i,{icon:"user",class:"icon"}),e("p",q,n(r.student.name),1)]),e("div",L,[h(i,{icon:"envelope",class:"icon"}),e("p",O,n(r.student.email),1)])]),e("div",U,[e("p",null,"Curso: "+n(r.student.course),1),e("p",null,"CRAA: "+n(r.student.craa),1),e("p",null,"Status: "+n(r.student.status),1)])])}}},H=C(G,[["__scopeId","data-v-1a7c087c"]]),J={class:"content-container"},K={class:"select-vancancy"},Q=e("option",{disabled:"",value:""},"Selecione um tipo de usuÃ¡rio",-1),W=["value"],X={key:0,class:"students-subscribed"},Y={key:0,class:"student-list"},Z={key:1},ae={__name:"StudentsSubscribedView",setup(r){const c=o(localStorage.getItem("token")),v=o(x(c.value)),i=o(D(c.value)),k=o(I(c.value)),d=o(""),l=o(null),m=o([]),_=o([]),y=V(),S=F(),b=()=>c.value?k.value>new Date?i.value==="Professor"&&v.value==S.params.id:(localStorage.removeItem("token"),!1):!1;B(async()=>{if(b())try{const u=await A(v.value,c.value);m.value=u}catch(u){console.error(u),l.value="Erro ao carregar vagas"}else y.push("/login")});const w=async()=>{try{_.value=await j(d.value,c.value)}catch(u){console.error(u),l.value="Erro ao carregar alunos inscritos"}_.value.length===0?l.value="Nenhum aluno inscrito":l.value=null};return(u,p)=>(t(),a("div",J,[e("div",K,[E(e("select",{onChange:w,"onUpdate:modelValue":p[0]||(p[0]=s=>d.value=s),class:"select-input"},[Q,(t(!0),a(f,null,g(m.value,s=>(t(),a("option",{value:s.vacancyID},n(s.projectTitle)+" - "+n(s.description),9,W))),256))],544),[[N,d.value]])]),d.value?(t(),a("div",X,[l.value?(t(),a("p",Z,n(l.value),1)):(t(),a("div",Y,[(t(!0),a(f,null,g(_.value,s=>(t(),T(H,{student:s,key:s.studentID},null,8,["student"]))),128))]))])):R("",!0)]))}};export{ae as default};
